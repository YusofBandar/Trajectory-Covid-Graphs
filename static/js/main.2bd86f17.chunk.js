(this["webpackJsonptrajectory-graph"]=this["webpackJsonptrajectory-graph"]||[]).push([[0],{12:function(a,e,t){a.exports={sliderWrapper:"Slider_sliderWrapper__3EnXS",valueLabel:"Slider_valueLabel__1MWUK",slider:"Slider_slider__1zgUK",label:"Slider_label__3laR1"}},13:function(a,e,t){a.exports={mapWrapper:"Map_mapWrapper__2wQpQ",map:"Map_map__2RCva",title:"Map_title__3i40o",controls:"Map_controls__3zi1N"}},14:function(a,e,t){a.exports={circle:"CircleScale_circle__2ZFKa",label:"CircleScale_label__2lR9l"}},17:function(a,e,t){a.exports={parentCircle:"NestedCircles_parentCircle__1GdS3",childCircle:"NestedCircles_childCircle__3FRHv",label:"NestedCircles_label__7-GBS"}},27:function(a,e,t){a.exports={slider:"MonthSlider_slider__1-fDb",play:"MonthSlider_play__21V66"}},28:function(a,e,t){a.exports={scale:"AngleScale_scale__1Jyhs",arc:"AngleScale_arc__G3D_h"}},29:function(a,e,t){a.exports={map:"TrajectoriesStates_map__u28D_",scale:"TrajectoriesStates_scale__iQMfl"}},30:function(a,e,t){a.exports={label:"Label_label__3Cq3O",title:"Label_title__1ziCa"}},40:function(a,e,t){a.exports=t.p+"static/media/twitter.50cf6ea3.svg"},41:function(a,e,t){a.exports=t.p+"static/media/github.c48d680a.svg"},42:function(a,e,t){a.exports=t.p+"static/media/play.221bbead.svg"},43:function(a,e,t){a.exports=t.p+"static/media/pause.40475220.svg"},44:function(a,e,t){a.exports={map:"ScalesStates_map__38F_2"}},45:function(a,e,t){a.exports={map:"CircleStates_map__38ZgF"}},46:function(a,e,t){a.exports={loader:"LoadingSpinner_loader__15lNv",load8:"LoadingSpinner_load8__ryY6b"}},6:function(a,e,t){a.exports={trajectory:"Trajectory_trajectory__2l-87",label:"Trajectory_label__JwpOl",arrow:"Trajectory_arrow__1Z8Qh",startCap:"Trajectory_startCap__1F6M7",line:"Trajectory_line__IfYmI",endCap:"Trajectory_endCap__3u-ZF"}},8:function(a,e,t){a.exports={app:"App_app__3hGw6",footer:"App_footer__1R92B",author:"App_author__1EKoL",icon:"App_icon__wHfv8"}},89:function(a,e,t){a.exports=t(95)},9:function(a,e,t){a.exports={scale:"Scale_scale__33yDb",points:"Scale_points__3o7eO",min:"Scale_min__fIkAc",max:"Scale_max__1scWd",labels:"Scale_labels__nET2b"}},95:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),l=t(38),i=t.n(l),s=t(4),c=t(18),o=t(26),m=t.n(o),u=t(39),p=t(2),d=r.a.createContext({index:0,setIndex:function(){},play:!1,setPlay:function(){}}),y=t(31),f=t(97);function x(a){return new Date(a.toString().slice(0,4),Number(a.toString().slice(4,6))-1,a.toString().slice(6))}function N(a,e){for(var t=[a[0]],n=a.length-2,r=Math.floor(n/(e-2)),l=1;l<e-1;l++)t.push(a[l*r]);return t.push(a[a.length-1]),t}var h={groupByState:function(a){return Object(f.a)(a,(function(a){return a.label}))},abbrStateToName:function(a){a=a.toUpperCase();for(var e=0;e<v.length;e++)if(v[e][1]===a)return v[e][0]},convertToDate:x,orderByDate:function(a,e){return e=e||function(a){return x(a.data.date)},a.sort((function(a,t){return e(a)-e(t)}))},startPadArray:function(a,e,t){var n=new Array(t).fill().map((function(){return e}));return[].concat(Object(y.a)(n),Object(y.a)(a))},maxDimensionValue:function(a,e){var t,n=0,r=Object(s.a)(a.keys());try{for(r.s();!(t=r.n()).done;){var l,i=t.value,c=Object(s.a)(a.get(i));try{for(c.s();!(l=c.n()).done;){var o=l.value;n=Math.max(n,o.data[e])}}catch(m){c.e(m)}finally{c.f()}}}catch(m){r.e(m)}finally{r.f()}return n},distributedMonths:function(a,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=Math.floor(e/30),l=n.indexOf(a),i=[],s=0;s<r;s++)i.push(n[l%n.length]),l+=1;return N(i,Math.min(i.length,t))}},v=[["Arizona","AZ"],["Alabama","AL"],["Alaska","AK"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["District of Columbia","DC"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]],_={Alaska:{displayName:"Alaska",x:0,y:100},Maine:{displayName:"Maine",x:1e3,y:100},Vermont:{displayName:"Vt.",x:900,y:200},"New Hampshire":{displayName:"N.H.",x:1e3,y:200},Washington:{displayName:"Wash.",x:0,y:300},Idaho:{displayName:"Idaho",x:100,y:300},Montana:{displayName:"Mont.",x:200,y:300},"North Dakota":{displayName:"N.D.",x:300,y:300},Minnesota:{displayName:"Minn.",x:400,y:300},Wisconsin:{displayName:"Wis.",x:500,y:300},Michigan:{displayName:"Mich",x:600,y:300},"New York":{displayName:"N.Y",x:800,y:300},Connecticut:{displayName:"Conn.",x:900,y:300},Massachusetts:{displayName:"Mass.",x:1e3,y:300},Oregon:{displayName:"Ore.",x:0,y:400},Nevada:{displayName:"Nev.",x:100,y:400},Wyoming:{displayName:"Wyo.",x:200,y:400},"South Dakota":{displayName:"S.D.",x:300,y:400},Iowa:{displayName:"Iowa",x:400,y:400},Illinois:{displayName:"Ill",x:500,y:400},Indiana:{displayName:"Ind.",x:600,y:400},Ohio:{displayName:"Ohio",x:700,y:400},Pennsylvania:{displayName:"Pa.",x:800,y:400},"New Jersey":{displayName:"N.J.",x:900,y:400},"Rhode Island":{displayName:"R.I.",x:1e3,y:400},California:{displayName:"Calif.",x:0,y:500},Utah:{displayName:"Utah",x:100,y:500},Colorado:{displayName:"Colo.",x:200,y:500},Nebraska:{displayName:"Neb.",x:300,y:500},Missouri:{displayName:"Mo",x:400,y:500},Kentucky:{displayName:"Ky.",x:500,y:500},"West Virginia":{displayName:"W.Va.",x:600,y:500},"District of Columbia":{displayName:"D.C",x:700,y:500},Maryland:{displayName:"Md.",x:800,y:500},Delaware:{displayName:"Del.",x:900,y:500},Arizona:{displayName:"Ariz.",x:100,y:600},"New Mexico":{displayName:"N.M",x:200,y:600},Kansas:{displayName:"Kan.",x:300,y:600},Arkansas:{displayName:"Ark",x:400,y:600},Tennessee:{displayName:"Tenn",x:500,y:600},Virginia:{displayName:"Va.",x:600,y:600},"North Carolina":{displayName:"N.C.",x:700,y:600},Oklahoma:{displayName:"Okla.",x:300,y:700},Mississippi:{displayName:"Miss.",x:400,y:700},Alabama:{displayName:"Ala.",x:500,y:700},Georgia:{displayName:"Ga.",x:600,y:700},"South Carolina":{displayName:"S.C.",x:700,y:700},Hawaii:{displayName:"Hawaii",x:0,y:800},Texas:{displayName:"Texas",x:300,y:800},Louisiana:{displayName:"La.",x:400,y:800},Florida:{displayName:"Fla.",x:800,y:800},"Puerto Rico":{displayName:"P.R.",x:1e3,y:800}},b=t(40),g=t.n(b),E=t(41),C=t.n(E),S=t(8),M=t.n(S),j=t(3),O=t(42),w=t.n(O),k=t(43),A=t.n(k),D=t(12),I=t.n(D);var T=function(a){var e=a.labels,t=a.valueLabel,n=a.value,l=a.min,i=a.max,s=a.onChange,c=a.inputProps;return r.a.createElement("div",{className:I.a.sliderWrapper},t&&r.a.createElement("span",{className:I.a.valueLabel,style:{left:"".concat(n/i*100,"%")}},t),r.a.createElement("input",Object.assign({className:I.a.slider,value:n,min:l,max:i,onChange:s,type:"range"},c)),e&&e.map((function(a){var e=a.label,t=a.point;return r.a.createElement("span",{style:{left:"".concat(t,"%")},className:I.a.label},e)})))},W=t(27),R=t.n(W);function L(a){var e=a.play,t=a.value,n=a.length,l=a.labels,i=a.valueLabel,s=a.onClick,c=a.onChange;return r.a.createElement("div",{className:R.a.slider},r.a.createElement("img",{className:R.a.play,onClick:s,src:e?A.a:w.a,alt:"play"}),r.a.createElement(T,{value:t,valueLabel:i,onChange:c,labels:l,min:0,max:n}))}L.defaultProps={play:!1};var P=L,V=t(13),K=t.n(V);var B=function(a){var e=a.title,t=a.data,l=a.scale,i=a.children,s=Object(n.useContext)(d),c=s.index,o=s.setIndex,m=s.play,u=s.setPlay,p=t.values().next().value.length,y=Math.min(p-1,c),f=h.convertToDate(t.values().next().value[y].data.date);!function(a,e,t){var r=Object(n.useRef)();Object(n.useEffect)((function(){t?("object"===typeof r.current&&r.current.stop(),r.current=j.b(a,e)):"object"===typeof r.current&&r.current.stop()}),[r,a,e,t])}((function(){c<p&&o((function(a){return a+1})),c>=p&&u(!1)}),500,m);var x=h.distributedMonths("Mar",p).map((function(a,e){return{label:a,point:25*e}})),N=[];return function(a,e){var t=[];return a.forEach((function(a){t.push(a[e])})),t}(t,y).forEach((function(a){N.push(a)})),r.a.createElement("div",{className:K.a.mapWrapper},r.a.createElement("h1",{className:K.a.title},e),r.a.createElement("svg",{className:K.a.map,viewBox:"0 0 1100 860"},i(N)),r.a.createElement("div",{className:K.a.controls},r.a.createElement(P,{play:m,value:c,length:p-1,labels:x,valueLabel:f.toLocaleDateString("en-US",{month:"short",day:"numeric"}),onClick:function(){u((function(a){return!a}))},onChange:function(a){o(Number(a.target.value))}}),l))},U=t(6),F=t.n(U);function H(a){var e=a.label,t=a.x,n=a.y,l=a.angle,i=a.width;return r.a.createElement("g",{className:F.a.trajectory,style:{transform:"translate(".concat(t,"px, ").concat(n,"px)")}},r.a.createElement("text",{className:F.a.label,x:0,y:0},e),r.a.createElement("g",{className:F.a.arrow,style:{transformOrigin:"".concat(10,"px ",10,"px"),transform:"rotate(".concat(l,"deg)")}},r.a.createElement("circle",{className:F.a.startCap,r:4,cx:10,cy:10}),r.a.createElement("path",{className:F.a.line,d:"M 10 10 l ".concat(i," 0")}),r.a.createElement("polygon",{className:F.a.endCap,points:"".concat(i+10,",")+"10 ".concat(i+10,",")+"4 ".concat(i+10+12,",")+"10 ".concat(i+10,",")+"".concat(16)})))}H.defaultProps={width:60};var J=H,Y=t(28),G=t.n(Y);var z=function(a){var e=a.min,t=a.max,n=j.a().innerRadius(98).outerRadius(100).startAngle(Math.PI/180*0).endAngle(Math.PI/180*90)();return r.a.createElement("svg",{className:G.a.scale},r.a.createElement("g",{className:G.a.arc},r.a.createElement("text",{x:0,y:-110},t),r.a.createElement("path",{d:n}),r.a.createElement("text",{x:110,y:0},e)))},Z=t(29),Q=t.n(Z);var X=function(a){var e=a.title,t=a.data,l=a.dimension,i=a.maxValue,s=Object(n.useCallback)(j.c().domain([0,i]).range([0,90]).clamp(!0));return r.a.createElement("div",{className:Q.a.map},r.a.createElement(B,{title:e,data:t,scale:r.a.createElement("div",{className:Q.a.scale},r.a.createElement(z,{min:0,max:i}))},(function(a){var e=[];return a.forEach((function(a){var t=a.data[l],n=t<0?s(Math.abs(t)):-1*s(t);e.push(r.a.createElement(J,{key:a.displayName,label:a.displayName,x:a.x,y:a.y,angle:n}))})),e})))},q=t(30),$=t.n(q);var aa=function(a){var e=a.label,t=a.x,n=a.y,l=a.scale;return r.a.createElement("g",{className:$.a.label,style:{transform:"translate(".concat(t+25,"px, ").concat(n,"px)"),fontSize:"".concat(l,"px")}},r.a.createElement("text",{className:$.a.title,x:0,y:0},e))},ea=t(9),ta=t.n(ea);var na=function(a){var e=a.min,t=a.max;return r.a.createElement("div",{className:ta.a.scale},r.a.createElement("div",{className:ta.a.points},r.a.createElement("span",{className:ta.a.min},"A"),r.a.createElement("span",{className:ta.a.max},"A")),r.a.createElement("div",{className:ta.a.labels},r.a.createElement("span",null,e),r.a.createElement("span",null,t)))},ra=t(44),la=t.n(ra);var ia=function(a){var e=a.title,t=a.data,l=a.dimension,i=h.maxDimensionValue(t,l),s=Object(n.useCallback)(j.c().domain([0,i]).range([10,60]));return r.a.createElement("div",{className:la.a.map},r.a.createElement(B,{title:e,data:t,scale:r.a.createElement(na,{min:0,max:i})},(function(a){var e=[];return a.forEach((function(a){var t=s(a.data[l]);e.push(r.a.createElement(aa,{key:a.label,label:a.data.state,x:a.x,y:a.y,scale:t}))})),e})))},sa=t(17),ca=t.n(sa);var oa=function(a){var e=a.label,t=a.x,n=a.y,l=a.parentRadius,i=a.childRadius;return r.a.createElement("g",{style:{transform:"translate(".concat(t+25,"px, ").concat(n,"px)")}},r.a.createElement("circle",{className:ca.a.parentCircle,r:l,cx:0,cy:0}),r.a.createElement("circle",{className:ca.a.childCircle,r:i,cx:0,cy:0}),r.a.createElement("text",{className:ca.a.label,x:0,y:l+20},e))},ma=t(14),ua=t.n(ma);var pa=function(a){var e=a.min,t=a.max;return r.a.createElement("svg",{width:120,height:100},r.a.createElement("g",null,r.a.createElement("circle",{className:ua.a.circle,cx:10,cy:40,r:1}),r.a.createElement("text",{className:ua.a.label,x:10,y:95},e)),r.a.createElement("g",null,r.a.createElement("circle",{className:ua.a.circle,cx:80,cy:40,r:35}),r.a.createElement("text",{className:ua.a.label,x:80,y:95},t)))},da=t(45),ya=t.n(da);var fa=function(a){var e=a.title,t=a.data,l=a.parentDimension,i=a.childDimension,s=h.maxDimensionValue(t,l),c=Object(n.useCallback)(j.c().domain([0,s]).range([1,35]));return r.a.createElement("div",{className:ya.a.map},r.a.createElement(B,{title:e,data:t,scale:r.a.createElement(pa,{min:0,max:s})},(function(a){var e=[];return a.forEach((function(a){var t=c(a.data[l]),n=c(a.data[i]);e.push(r.a.createElement(oa,{key:a.displayName,label:a.data.state,parentRadius:t,childRadius:n,x:a.x,y:a.y}))})),e})))},xa=t(46),Na=t.n(xa);var ha=function(){return r.a.createElement("div",{className:Na.a.loader})};var va=function(){var a=function(){var a=function(a,e){var t=Object(n.useState)(!0),r=Object(p.a)(t,2),l=r[0],i=r[1],s=Object(n.useState)({}),c=Object(p.a)(s,2),o=c[0],d=c[1];return Object(n.useEffect)((function(){(function(){var t=Object(u.a)(m.a.mark((function t(){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,fetch(a,e);case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,d(r),i(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[a,e]),[l,o]}(window.location.href.includes("api")?"https://api.covidtracking.com/v1/states/daily.json":"./daily.json"),e=Object(p.a)(a,2),t=e[0],r=e[1],l=Object(n.useState)(),i=Object(p.a)(l,2),o=i[0],d=i[1],y=Object(n.useState)(!0),f=Object(p.a)(y,2),x=f[0],N=f[1];return Object(n.useEffect)((function(){if(!t){var a,e=r.filter((function(a){return h.abbrStateToName(a.state)})).map((function(a){var e=h.abbrStateToName(a.state),t=_[e];return Object(c.a)(Object(c.a)({},t),{},{data:Object(c.a)({},a),label:t.displayName})})),n=h.groupByState(e),l=function(a){var e,t=0,n=Object(s.a)(a.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t=Math.max(a.get(r).length,t)}}catch(l){n.e(l)}finally{n.f()}return t}(n),i=Object(s.a)(n.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value,m=h.orderByDate(n.get(o)),u=m.length;m=h.startPadArray(m,m[0],l-u),n.set(o,m)}}catch(p){i.e(p)}finally{i.f()}d(n),N(!1)}}),[t,r]),[x,o]}(),e=Object(p.a)(a,2),t=e[0],l=e[1],i=Object(n.useState)(0),o=Object(p.a)(i,2),y=o[0],f=o[1],x=Object(n.useState)(!1),N=Object(p.a)(x,2),v=N[0],b=N[1],E=Object(n.useRef)(new BroadcastChannel("covid_graphs_channel"));return Object(n.useEffect)((function(){if(!t){var a=l.values().next().value.length;E.current.postMessage({index:a}),f(a)}}),[t,l]),E.current.onmessage=function(a){f(a.data.index)},r.a.createElement(d.Provider,{value:{index:y,setIndex:function(a){var e="function"===typeof a?a(y):a;E.current.postMessage({index:e}),f(e)},play:v,setPlay:b}},r.a.createElement("div",{className:M.a.app},t&&r.a.createElement(ha,null),!t&&r.a.createElement(X,{title:"US States Positive Cases Trajectories",data:l,dimension:"positiveIncrease",maxValue:8e3}),!t&&r.a.createElement(X,{title:"US States Number of Deaths Trajectories",data:l,dimension:"deathIncrease",maxValue:800}),!t&&r.a.createElement(ia,{title:"US States Number of Positive Cases",data:l,dimension:"positive"}),!t&&r.a.createElement(ia,{title:"US States Number of Deaths",data:l,dimension:"death"}),!t&&r.a.createElement(fa,{title:"US States Number of Positive Cases Compared to the Number of Deaths",data:l,parentDimension:"positive",childDimension:"death"})),r.a.createElement("footer",{className:M.a.footer},r.a.createElement("span",{className:M.a.author},"Yusof Bandar"),r.a.createElement("a",{href:"https://twitter.com/BandarYusof",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:M.a.icon,src:g.a,alt:"twitter"})),r.a.createElement("a",{href:"https://github.com/YusofBandar",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:M.a.icon,src:C.a,alt:"github"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(va,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[89,1,2]]]);
//# sourceMappingURL=main.2bd86f17.chunk.js.map